%%%%%%% Presentation %%%%%%%

% Main Theme
\mode<presentation> {
%   \setbeamertemplate{background canvas}[vertical shading][bottom=red!10,top=blue!10]
  \setbeamertemplate{theorems}[numbered]
  \usetheme{CambridgeUS}
%   \usefonttheme[onlymath]{serif}
  \usefonttheme[onlysmall]{serif}
  \usefonttheme{structuresmallcapsserif}
}

% Colors
\makeatletter

\definecolor{nu purple}{HTML}{4E2A84}
\definecolor{nu light purple}{HTML}{E4E0EE}
\definecolor{light black}{HTML}{1A1A1A}
\definecolor{deep sky blue}{HTML}{3BB9FF}
\definecolor{light sky blue}{HTML}{82CAFA}

\setbeamercolor{normal text}{fg=black,bg=white}
\setbeamercolor{alerted text}{fg=red}
\setbeamercolor{example text}{fg=black}

\setbeamercolor{title}{fg = black}
\setbeamercolor{background canvas}{fg=black, bg=white}
\setbeamercolor{background}{fg=black, bg=white}

\setbeamercolor{palette primary}{fg=black, bg=gray!30!white}
\setbeamercolor{palette secondary}{fg=black, bg=gray!20!white}
\setbeamercolor{palette tertiary}{fg=white, bg=nu purple}

% Block 
\setbeamercolor{block title}{bg=nu purple,fg=white}
\setbeamercolor{block body}{bg=gray!30!white,fg = black}

% Set one of the available templates
\setbeamertemplate{itemize item}[square]
\setbeamercolor{itemize item}{bg = black, fg = nu purple}
\setbeamertemplate{enumerate items}[default]
\setbeamercolor{enumerate item}{bg = black, fg = black}
\setbeamertemplate{itemize subitem}[square]
\setbeamercolor{itemize subitem}{bg = black, fg = nu purple}

% Table of Contents
\setbeamertemplate{section in toc}[square]
\setbeamercolor{frametitle}{bg = black, fg = nu purple}

\setbeamercolor{frametitle}{fg=black,bg=gray!20!white}
% \setbeamercolor{section in head/foot}{bg=Brown}
% \setbeamercolor{author in head/foot}{bg=Brown}
% \setbeamercolor{date in head/foot}{fg=Brown}

% Buttons
% Beamer button
\setbeamercolor{button}{fg=lightgray!50, bg=nu purple}



%%%%%%% Fonts %%%%%%%
\DeclareMathAlphabet{\pazocal}{OMS}{zplm}{m}{n} % pazocal fonts
\newcommand{\bs}{\boldsymbol}

%%%% UPDATE MACRO DEFINITIONS %%%%

% Changing Table of Contents

% Change block colors
\setbeamercolor{block title}{fg=white,bg=red!70!black}
\setbeamercolor{block body}{fg=black,bg=lightgray!50}

%% 

% Frame Title set as Section Name by Default
\addtobeamertemplate{frametitle}{
   \let\insertframetitle\insertsectionhead}{}
\addtobeamertemplate{frametitle}{
   \let\insertframesubtitle\insertsubsectionhead}{}
   
\makeatletter
\CheckCommand*\beamer@checkframetitle{\@ifnextchar\bgroup\beamer@inlineframetitle{}}
\renewcommand*\beamer@checkframetitle{\global\let\beamer@frametitle\relax\@ifnextchar\bgroup\beamer@inlineframetitle{}}
\makeatother

% TOC Appearing at the Start of Each Section
\AtBeginSection[]
{
   \begin{frame}[noframenumbering]
       \frametitle{Outline}
       \tableofcontents[currentsection, hideothersubsections]
   \end{frame}
}

% Image in title
\titlegraphic{
   \includegraphics[width=.5\textwidth]{images/kellogg_logo.jpg}
   }
   

% Metadata

\makeatletter
\AtBeginDocument{
  \hypersetup{
    pdftitle = {\@title},
    pdfauthor = {\@author},
    pdfkeywords={Presentation, Slides}
  }
}
\makeatother